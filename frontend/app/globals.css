@import "tailwindcss";

/* SEMANTIC TOKENS (used by UI) */
:root {
    --radius-card: 24px;

    /* LIGHT (default) */
    --background: #faf9f7;
    --foreground: #171717;

    --card-bg: #ffffff;
    --card-border: #e5e7eb;

    --input-bg: #ffffff;
    --input-border: #d1d5db;

    /* semantic usage */
    --bg: var(--background);
    --fg: var(--foreground);
    --surface: var(--card-bg);
    --border: var(--card-border);

    --muted: rgba(23, 23, 23, 0.65);
    --subtle: rgba(23, 23, 23, 0.38);

    --primary: #6f7f6a;
    --primary-fg: #ffffff;

    --secondary: rgba(23, 23, 23, 0.12);

    --danger: #d64040;
    --danger-fg: #ffffff;

    /* MARKERS */
    --mark-high: color-mix(in oklch, var(--primary) 78%, var(--fg) 22%);
    --mark-mild: color-mix(in oklch, #c88a2a 78%, var(--fg) 22%);
    --mark-energy: color-mix(in oklch, var(--primary) 35%, #b08a6a 65%);
    --mark-ring: color-mix(in oklch, var(--surface) 70%, transparent 30%);
    --mark-shadow: 0 1px 0 rgba(0, 0, 0, 0.18);
}

/* DARK (optional toggle via <html class="dark">) */
.dark {
    --background: #0a0a0a;
    --foreground: #ededed;

    --card-bg: #1a1a1a;
    --card-border: #2a2a2a;

    --input-bg: #1a1a1a;
    --input-border: #2a2a2a;

    --bg: var(--background);
    --fg: var(--foreground);
    --surface: var(--card-bg);
    --border: var(--card-border);

    --muted: rgba(237, 237, 237, 0.7);
    --subtle: rgba(237, 237, 237, 0.42);

    --primary: #8a9b82;
    --primary-fg: #0a0a0a;

    --secondary: rgba(237, 237, 237, 0.14);

    --danger: #ff5b5b;
    --danger-fg: #0a0a0a;

    --mark-high: color-mix(in oklch, var(--primary) 78%, var(--fg) 22%);
    --mark-mild: color-mix(in oklch, #c88a2a 70%, var(--fg) 30%);
    --mark-energy: color-mix(in oklch, var(--primary) 30%, #b08a6a 70%);
    --mark-ring: color-mix(in oklch, var(--surface) 72%, transparent 28%);
    --mark-shadow: 0 1px 0 rgba(0, 0, 0, 0.35);
}

/* Tailwind CSS v4 theme linking */
@theme inline {
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --font-serif: var(--font-cormorant-garamond);
    --font-sans: var(--font-inter);
}

/* Global Layout */
body {
    background: var(--bg);
    color: var(--fg);
    font-family:
        var(--font-inter),
        ui-sans-serif,
        system-ui,
        -apple-system,
        "Segoe UI",
        Roboto,
        Arial,
        sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family:
        var(--font-cormorant-garamond), ui-serif, Georgia, "Times New Roman",
        serif;
    font-weight: 600;
}

input,
textarea,
select {
    background: var(--input-bg);
    border-color: var(--input-border);
    color: var(--fg);
}

input::placeholder,
textarea::placeholder {
    color: var(--subtle);
}

/* Pain slider (mobile-friendly) */
.pain-slider {
    -webkit-appearance: none;
    appearance: none;
    height: 44px; /* big touch area */
    background: transparent;
    cursor: pointer;
}

/* Track */
.pain-slider::-webkit-slider-runnable-track {
    height: 12px;
    border-radius: 999px;
    background: linear-gradient(
        90deg,
        /* left = calm muted/green-ish */
        color-mix(in oklch, var(--primary) 25%, var(--border) 75%),
        /* mid */ color-mix(in oklch, #f59e0b 55%, var(--border) 45%),
        /* right = red */ color-mix(in oklch, #ef4444 70%, var(--border) 30%)
    );
    box-shadow: inset 0 0 0 1px
        color-mix(in oklch, var(--border) 75%, transparent 25%);
}

/* Thumb */
.pain-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 28px;
    height: 28px;
    border-radius: 999px;
    background: white;
    border: 3px solid
        color-mix(
            in oklch,
            #ef4444 calc(var(--p) * 80%),
            var(--primary) calc((1 - var(--p)) * 80%)
        );
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
    margin-top: -8px; /* centers on 12px track */
}

/* Firefox */
.pain-slider::-moz-range-track {
    height: 12px;
    border-radius: 999px;
    background: linear-gradient(
        90deg,
        color-mix(in oklch, var(--primary) 25%, var(--border) 75%),
        color-mix(in oklch, #f59e0b 55%, var(--border) 45%),
        color-mix(in oklch, #ef4444 70%, var(--border) 30%)
    );
}
.pain-slider::-moz-range-thumb {
    width: 28px;
    height: 28px;
    border-radius: 999px;
    background: white;
    border: 3px solid
        color-mix(
            in oklch,
            #ef4444 calc(var(--p) * 80%),
            var(--primary) calc((1 - var(--p)) * 80%)
        );
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
}

@keyframes auraPulse {
    0% {
        box-shadow:
            0 0 0 10px rgba(140, 155, 120, 0.1),
            0 0 0 26px rgba(140, 155, 120, 0.07),
            0 0 0 48px rgba(140, 155, 120, 0.045),
            0 0 0 74px rgba(140, 155, 120, 0.02);
    }
    50% {
        box-shadow:
            0 0 0 16px rgba(140, 155, 120, 0.16),
            0 0 0 36px rgba(140, 155, 120, 0.1),
            0 0 0 62px rgba(140, 155, 120, 0.06),
            0 0 0 92px rgba(140, 155, 120, 0.025);
    }
    100% {
        box-shadow:
            0 0 0 10px rgba(140, 155, 120, 0.1),
            0 0 0 26px rgba(140, 155, 120, 0.07),
            0 0 0 48px rgba(140, 155, 120, 0.045),
            0 0 0 74px rgba(140, 155, 120, 0.02);
    }
}

.aura-circle {
    animation: auraPulse 6.8s ease-in-out infinite;
}

/* Force sans headings for legal pages */
.privacy-h2 {
    font-family: var(--font-inter) !important;
}
